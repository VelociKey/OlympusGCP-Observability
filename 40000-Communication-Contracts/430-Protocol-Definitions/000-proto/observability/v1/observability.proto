syntax = "proto3";

package observability.v1;

option go_package = "OlympusGCP-Observability/40000-Communication-Contracts/430-Protocol-Definitions/000-gen/observability/v1;observabilityv1";

service ObservabilityService {
  rpc WriteLog (WriteLogRequest) returns (WriteLogResponse);
  rpc RecordMetric (RecordMetricRequest) returns (RecordMetricResponse);
  rpc StartSpan (StartSpanRequest) returns (StartSpanResponse);
  rpc EndSpan (EndSpanRequest) returns (EndSpanResponse);
}

message WriteLogRequest {
  string log_name = 1;
  string severity = 2;
  string message = 3;
  map<string, string> labels = 4;
}

message WriteLogResponse {}

message RecordMetricRequest {
  string metric_type = 1;
  double value = 2;
  map<string, string> labels = 3;
}

message RecordMetricResponse {}

message StartSpanRequest {
  string name = 1;
  string trace_id = 2;
}

message StartSpanResponse {
  string span_id = 1;
}

message EndSpanRequest {
  string span_id = 1;
}

message EndSpanResponse {}
